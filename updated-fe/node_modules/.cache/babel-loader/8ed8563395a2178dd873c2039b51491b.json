{"ast":null,"code":"var _jsxFileName = \"/home/vishakha/Documents/Project using ReactJS/Structured-MINITWITTER-Project/minitwitter/src/APIs/RegistrationAPI.jsx\";\nimport React, { Component, Fragment } from 'react';\nimport axios from 'axios';\nimport Login from '../Components/Login/Login.view';\nexport class RegistrationAPI extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shouldCallLogin: false\n    };\n  }\n\n  componentDidMount() {\n    console.log('props of registration api-->', this.props);\n    const {\n      firstname,\n      lastname,\n      username,\n      email,\n      password\n    } = this.props.userDetails;\n    axios.post(\"http://127.0.0.1:8020/minitwitter/users/\", {\n      first_name: firstname,\n      last_name: lastname,\n      email: email,\n      username: username,\n      password: password\n    }).then(response => {\n      console.log('registration response-->', response);\n      this.setState({\n        shouldCallLogin: true\n      });\n      this.props.returnResponse(response);\n    }).catch(error => {\n      console.log(error.response[\"status\"]);\n      const errorCode = error.response[\"status\"];\n      this.props.returnErrorCode(errorCode);\n    });\n  }\n\n  render() {\n    const {\n      username,\n      password\n    } = this.props.userDetails;\n    const loginDetails = {\n      username: username,\n      password: password\n    };\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, this.state.shouldCallLogin === true ? /*#__PURE__*/React.createElement(Login, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }) : null);\n  }\n\n}\nexport default RegistrationAPI;","map":{"version":3,"sources":["/home/vishakha/Documents/Project using ReactJS/Structured-MINITWITTER-Project/minitwitter/src/APIs/RegistrationAPI.jsx"],"names":["React","Component","Fragment","axios","Login","RegistrationAPI","constructor","props","state","shouldCallLogin","componentDidMount","console","log","firstname","lastname","username","email","password","userDetails","post","first_name","last_name","then","response","setState","returnResponse","catch","error","errorCode","returnErrorCode","render","loginDetails"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,gCAAlB;AAEA,OAAO,MAAMC,eAAN,SAA8BJ,SAA9B,CAAwC;AAE3CK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACRC,MAAAA,eAAe,EAAC;AADR,KAAb;AAGH;;AAIDC,EAAAA,iBAAiB,GAAE;AAEfC,IAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA2C,KAAKL,KAAhD;AACA,UAAK;AAACM,MAAAA,SAAD;AAAWC,MAAAA,QAAX;AAAoBC,MAAAA,QAApB;AAA6BC,MAAAA,KAA7B;AAAmCC,MAAAA;AAAnC,QAA6C,KAAKV,KAAL,CAAWW,WAA7D;AAGAf,IAAAA,KAAK,CACNgB,IADC,CACI,0CADJ,EACgD;AAChDC,MAAAA,UAAU,EAAEP,SADoC;AAEhDQ,MAAAA,SAAS,EAAEP,QAFqC;AAGhDE,MAAAA,KAAK,EAAEA,KAHyC;AAIhDD,MAAAA,QAAQ,EAAEA,QAJsC;AAKhDE,MAAAA,QAAQ,EAAEA;AALsC,KADhD,EAQDK,IARC,CAQKC,QAAD,IAAc;AAClBZ,MAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAuCW,QAAvC;AACA,WAAKC,QAAL,CAAc;AAACf,QAAAA,eAAe,EAAC;AAAjB,OAAd;AACA,WAAKF,KAAL,CAAWkB,cAAX,CAA0BF,QAA1B;AAED,KAbC,EAcDG,KAdC,CAcMC,KAAD,IAAW;AAChBhB,MAAAA,OAAO,CAACC,GAAR,CAAYe,KAAK,CAACJ,QAAN,CAAe,QAAf,CAAZ;AAEA,YAAMK,SAAS,GAACD,KAAK,CAACJ,QAAN,CAAe,QAAf,CAAhB;AACA,WAAKhB,KAAL,CAAWsB,eAAX,CAA2BD,SAA3B;AACD,KAnBC;AAqBH;;AAEDE,EAAAA,MAAM,GAAE;AACJ,UAAK;AAACf,MAAAA,QAAD;AAAUE,MAAAA;AAAV,QAAoB,KAAKV,KAAL,CAAWW,WAApC;AACA,UAAMa,YAAY,GAAC;AACfhB,MAAAA,QAAQ,EAACA,QADM;AAEfE,MAAAA,QAAQ,EAACA;AAFM,KAAnB;AAIA,wBACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKT,KAAL,CAAWC,eAAX,KAA6B,IAA7B,gBACD,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADC,GAED,IAHJ,CADJ;AAOH;;AAtD0C;AA0D/C,eAAeJ,eAAf","sourcesContent":["import React, { Component, Fragment } from 'react'\nimport axios from 'axios'\nimport Login from '../Components/Login/Login.view'\n\nexport class RegistrationAPI extends Component {\n\n    constructor(props) {\n        super(props)\n    \n        this.state = {\n             shouldCallLogin:false\n        }\n    }\n    \n\n\n    componentDidMount(){\n\n        console.log('props of registration api-->',this.props)\n        const{firstname,lastname,username,email,password}=this.props.userDetails\n        \n\n        axios\n      .post(\"http://127.0.0.1:8020/minitwitter/users/\", {\n        first_name: firstname,\n        last_name: lastname,\n        email: email,\n        username: username,\n        password: password,\n      }) \n      .then((response) => {\n        console.log('registration response-->',response);\n        this.setState({shouldCallLogin:true})\n        this.props.returnResponse(response)\n\n      })\n      .catch((error) => {\n        console.log(error.response[\"status\"]);\n\n        const errorCode=error.response[\"status\"]\n        this.props.returnErrorCode(errorCode)\n      });\n    \n    }\n\n    render(){\n        const{username,password}=this.props.userDetails\n        const loginDetails={\n            username:username,\n            password:password\n        }\n        return(\n            <Fragment>\n                {this.state.shouldCallLogin===true ?\n                <Login />:\n                null}\n            </Fragment>\n        )\n    }\n\n}\n\nexport default RegistrationAPI\n"]},"metadata":{},"sourceType":"module"}