{"ast":null,"code":"var _jsxFileName = \"/home/vishakha/Documents/Project using ReactJS/Structured-MINITWITTER-Project/minitwitter/src/Components/Menu/Menu.jsx\";\nimport React, { Component } from 'react';\nimport CurrentUserAPI from './../../APIs/CurrentUserAPI';\nimport MenuPage from './Menu.view';\nexport class Menu extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setLoggedUserData = response => {\n      console.log('logged user data from current user api-->', response);\n      this.setState({\n        username: response.data.username,\n        firstname: response.data.first_name,\n        lastname: response.data.last_name,\n        id: response.data.id\n      }, () => console.log('ckecking set data-->', this.state.username));\n    };\n\n    this.checkErrorCode = code => {\n      console.log('error code-->', code); // if(error['status']===400 || error['status']===401){\n      //     history.push('/')\n      // }\n    };\n\n    this.state = {\n      username: '',\n      firstname: '',\n      lastname: '',\n      id: 0,\n      shouldCallAPI: true\n    };\n  }\n\n  componentWillUnmount() {\n    this.setState({\n      shouldCallAPI: true\n    });\n  }\n\n  componentDidMount() {\n    this.props.loggedUserData(this.state);\n  }\n\n  render() {\n    const {\n      shouldCallAPI\n    } = this.state;\n    let loggedUserData = {\n      firstname: this.state.firstname,\n      lastname: this.state.lastname,\n      username: this.state.username,\n      id: this.state.id\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MenuPage, {\n      loggedUserData: loggedUserData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }), shouldCallAPI === true ? /*#__PURE__*/React.createElement(CurrentUserAPI, {\n      getLoggedUser: this.setLoggedUserData,\n      errorCode: this.checkErrorCode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }) : null);\n  }\n\n}\nexport default Menu;","map":{"version":3,"sources":["/home/vishakha/Documents/Project using ReactJS/Structured-MINITWITTER-Project/minitwitter/src/Components/Menu/Menu.jsx"],"names":["React","Component","CurrentUserAPI","MenuPage","Menu","constructor","props","setLoggedUserData","response","console","log","setState","username","data","firstname","first_name","lastname","last_name","id","state","checkErrorCode","code","shouldCallAPI","componentWillUnmount","componentDidMount","loggedUserData","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,cAAP,MAA2B,6BAA3B;AACA,OAAOC,QAAP,MAAqB,aAArB;AAEA,OAAO,MAAMC,IAAN,SAAmBH,SAAnB,CAA6B;AAEhCI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAYnBC,iBAZmB,GAYDC,QAAQ,IAAE;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAY,2CAAZ,EAAwDF,QAAxD;AACA,WAAKG,QAAL,CAAc;AACVC,QAAAA,QAAQ,EAACJ,QAAQ,CAACK,IAAT,CAAcD,QADb;AAEVE,QAAAA,SAAS,EAACN,QAAQ,CAACK,IAAT,CAAcE,UAFd;AAGVC,QAAAA,QAAQ,EAACR,QAAQ,CAACK,IAAT,CAAcI,SAHb;AAIVC,QAAAA,EAAE,EAACV,QAAQ,CAACK,IAAT,CAAcK;AAJP,OAAd,EAMA,MAAIT,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAmC,KAAKS,KAAL,CAAWP,QAA9C,CANJ;AAOH,KArBkB;;AAAA,SAuBnBQ,cAvBmB,GAuBJC,IAAI,IAAE;AAEjBZ,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4BW,IAA5B,EAFiB,CAIjB;AACJ;AACA;AAEC,KA/BkB;;AAGf,SAAKF,KAAL,GAAa;AACRP,MAAAA,QAAQ,EAAC,EADD;AAERE,MAAAA,SAAS,EAAC,EAFF;AAGRE,MAAAA,QAAQ,EAAC,EAHD;AAIRE,MAAAA,EAAE,EAAC,CAJK;AAKRI,MAAAA,aAAa,EAAC;AALN,KAAb;AAOH;;AAsBDC,EAAAA,oBAAoB,GAAE;AAElB,SAAKZ,QAAL,CAAc;AAACW,MAAAA,aAAa,EAAC;AAAf,KAAd;AAEH;;AACDE,EAAAA,iBAAiB,GAAE;AAEf,SAAKlB,KAAL,CAAWmB,cAAX,CAA0B,KAAKN,KAA/B;AAEH;;AACDO,EAAAA,MAAM,GAAG;AACL,UAAK;AAACJ,MAAAA;AAAD,QAAgB,KAAKH,KAA1B;AACA,QAAIM,cAAc,GAAC;AACfX,MAAAA,SAAS,EAAC,KAAKK,KAAL,CAAWL,SADN;AAEfE,MAAAA,QAAQ,EAAC,KAAKG,KAAL,CAAWH,QAFL;AAGfJ,MAAAA,QAAQ,EAAC,KAAKO,KAAL,CAAWP,QAHL;AAIfM,MAAAA,EAAE,EAAC,KAAKC,KAAL,CAAWD;AAJC,KAAnB;AAOA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI,oBAAC,QAAD;AAAU,MAAA,cAAc,EAAEO,cAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAKQH,aAAa,KAAG,IAAhB,gBACA,oBAAC,cAAD;AAAgB,MAAA,aAAa,EAAE,KAAKf,iBAApC;AACgB,MAAA,SAAS,EAAE,KAAKa,cADhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,GAGA,IARR,CADJ;AAeH;;AApE+B;AAuEpC,eAAehB,IAAf","sourcesContent":["import React, { Component } from 'react'\nimport CurrentUserAPI from './../../APIs/CurrentUserAPI'\nimport MenuPage from './Menu.view'\n\nexport class Menu extends Component {\n\n    constructor(props) {\n        super(props)\n    \n        this.state = {\n             username:'',\n             firstname:'',\n             lastname:'',\n             id:0,\n             shouldCallAPI:true,\n        }\n    }\n    \n    setLoggedUserData=response=>{\n        console.log('logged user data from current user api-->',response)\n        this.setState({\n            username:response.data.username,\n            firstname:response.data.first_name,\n            lastname:response.data.last_name,\n            id:response.data.id,\n        },\n        ()=>console.log('ckecking set data-->',this.state.username))\n    }\n\n    checkErrorCode=code=>{\n\n        console.log('error code-->',code)\n\n        // if(error['status']===400 || error['status']===401){\n    //     history.push('/')\n    // }\n\n    }\n    componentWillUnmount(){\n\n        this.setState({shouldCallAPI:true})\n\n    }\n    componentDidMount(){\n        \n        this.props.loggedUserData(this.state)\n        \n    }\n    render() {\n        const{shouldCallAPI}=this.state\n        let loggedUserData={\n            firstname:this.state.firstname,\n            lastname:this.state.lastname,\n            username:this.state.username,\n            id:this.state.id\n            }\n        \n        return (\n            <div>\n\n                <MenuPage loggedUserData={loggedUserData}/>\n\n                {\n                    shouldCallAPI===true ?\n                    <CurrentUserAPI getLoggedUser={this.setLoggedUserData}\n                                    errorCode={this.checkErrorCode}/>:\n                    null\n                }\n                \n                \n            </div>\n        )\n    }\n}\n\nexport default Menu\n"]},"metadata":{},"sourceType":"module"}