{"ast":null,"code":"var _jsxFileName = \"/home/vishakha/Documents/Project using ReactJS/Structured-MINITWITTER-Project/minitwitter/src/Components/Menu/Menu.jsx\";\nimport React, { Component } from 'react';\nimport CurrentUserAPI from './../../APIs/CurrentUserAPI';\nimport MenuPage from './Menu.view';\nimport PostTweetAPI from './../../APIs/PostTweetAPI';\nexport class Menu extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setLoggedUserData = response => {\n      console.log('logged user data from current user api-->', response);\n      this.setState({\n        username: response.data.username,\n        firstname: response.data.first_name,\n        lastname: response.data.last_name,\n        id: response.data.id\n      }, () => console.log('ckecking set data-->', this.state.username));\n      this.props.loggedUserData(this.state);\n    };\n\n    this.checkErrorCode = code => {\n      console.log('error code-->', code); // if(error['status']===400 || error['status']===401){\n      //     history.push('/')\n      // }\n    };\n\n    this.postTweet = tweet => {\n      console.log('tweet in parent Menu--', tweet);\n      this.setState({\n        tweet: tweet,\n        shouldCallPostTweetAPI: true\n      });\n    };\n\n    this.checkResponse = response => {\n      if (response.data['status'] === 201) {\n        this.props.history.push('/minitwitter/userprofile/' + this.state.id);\n      }\n    };\n\n    this.state = {\n      username: '',\n      firstname: '',\n      lastname: '',\n      id: 0,\n      tweet: '',\n      shouldCallAPI: true,\n      shouldCallPostTweetAPI: false\n    };\n  }\n\n  componentWillMount() {\n    this.setState({\n      shouldCallAPI: true\n    });\n  }\n\n  render() {\n    const {\n      shouldCallAPI,\n      shouldCallPostTweetAPI\n    } = this.state;\n    let loggedUserData = {\n      firstname: this.state.firstname,\n      lastname: this.state.lastname,\n      username: this.state.username,\n      id: this.state.id\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MenuPage, {\n      loggedUserData: loggedUserData,\n      postTweet: this.postTweet,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }), shouldCallAPI === true ? /*#__PURE__*/React.createElement(CurrentUserAPI, {\n      getLoggedUser: this.setLoggedUserData,\n      errorCode: this.checkErrorCode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }) : null, shouldCallPostTweetAPI === true ? /*#__PURE__*/React.createElement(PostTweetAPI, {\n      tweet: this.state.tweet,\n      returnResponse: this.checkResponse,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }) : null);\n  }\n\n}\nexport default Menu;","map":{"version":3,"sources":["/home/vishakha/Documents/Project using ReactJS/Structured-MINITWITTER-Project/minitwitter/src/Components/Menu/Menu.jsx"],"names":["React","Component","CurrentUserAPI","MenuPage","PostTweetAPI","Menu","constructor","props","setLoggedUserData","response","console","log","setState","username","data","firstname","first_name","lastname","last_name","id","state","loggedUserData","checkErrorCode","code","postTweet","tweet","shouldCallPostTweetAPI","checkResponse","history","push","shouldCallAPI","componentWillMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport CurrentUserAPI from './../../APIs/CurrentUserAPI'\nimport MenuPage from './Menu.view'\nimport PostTweetAPI from './../../APIs/PostTweetAPI'\n\nexport class Menu extends Component {\n\n    constructor(props) {\n        super(props)\n    \n        this.state = {\n             username:'',\n             firstname:'',\n             lastname:'',\n             id:0,\n             tweet:'',\n             shouldCallAPI:true,\n             shouldCallPostTweetAPI:false\n        }\n    }\n    \n    setLoggedUserData=response=>{\n        console.log('logged user data from current user api-->',response)\n        this.setState({\n            username:response.data.username,\n            firstname:response.data.first_name,\n            lastname:response.data.last_name,\n            id:response.data.id,\n        },\n        ()=>console.log('ckecking set data-->',this.state.username))\n\n        this.props.loggedUserData(this.state)\n    }\n\n    checkErrorCode=code=>{\n\n        console.log('error code-->',code)\n\n        // if(error['status']===400 || error['status']===401){\n    //     history.push('/')\n    // }\n\n    }\n    componentWillMount(){\n\n        this.setState({shouldCallAPI:true})\n\n    }\n\n    postTweet=tweet=>{\n\n        console.log('tweet in parent Menu--',tweet)\n        this.setState({tweet:tweet , shouldCallPostTweetAPI:true})\n    }\n\n    checkResponse=response=>{\n\n        if(response.data['status']===201){\n\n            this.props.history.push('/minitwitter/userprofile/'+this.state.id)\n\n        }\n    }\n    \n\n    render() {\n        const{shouldCallAPI,shouldCallPostTweetAPI}=this.state\n        let loggedUserData={\n            firstname:this.state.firstname,\n            lastname:this.state.lastname,\n            username:this.state.username,\n            id:this.state.id\n            }\n        \n        return (\n            <div>\n\n                <MenuPage loggedUserData={loggedUserData}\n                            postTweet={this.postTweet}\n                            \n                />\n\n                {\n                    shouldCallAPI===true ?\n                    <CurrentUserAPI getLoggedUser={this.setLoggedUserData}\n                                    errorCode={this.checkErrorCode}/>:\n                    null\n                }\n                {   \n                    shouldCallPostTweetAPI===true ?\n                    <PostTweetAPI tweet={this.state.tweet}\n                                    returnResponse={this.checkResponse}\n                     />:\n                    null\n                }\n                \n                \n            </div>\n        )\n    }\n}\n\nexport default Menu\n"]},"metadata":{},"sourceType":"module"}