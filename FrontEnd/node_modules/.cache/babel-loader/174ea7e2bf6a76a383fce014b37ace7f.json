{"ast":null,"code":"var _jsxFileName = \"/home/vishakha/Documents/Project using ReactJS/Updated Project- MiniTwitter/mini-twitter/FrontEnd/src/Components/HomePage.js\";\nimport React, { Component } from \"react\";\nimport history from \"./../history\";\nimport axios from \"axios\";\nimport \"./HomePage.css\";\nimport { Link } from \"react-router-dom\"; // This component render the timeline page which is home page of twitter\n\nexport class HomePage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      axios.defaults.headers = {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"token \" + localStorage.getItem(\"token\")\n      };\n      const id = this.props.loggedUserId;\n      axios.get(\"http://127.0.0.1:8020/minitwitter/tweets/\", id).then(response => {\n        console.log(\"response of timeline-\", response);\n\n        if (response[\"status\"] === 200) {\n          const {\n            timelineContent\n          } = this.state;\n          this.setState({\n            timelineContent: response.data\n          }, () => console.log(\"timeline content-->\", timelineContent));\n        }\n      }).catch(error => {\n        console.log(error.response[\"status\"]);\n\n        if (error.response[\"status\"] === 401) {\n          history.push(\"/\");\n        }\n      });\n    };\n\n    this.viewProfile = (userid, event) => {\n      console.log(userid);\n      localStorage.setItem(\"otherUserName\", userid);\n      history.push(\"/minitwitter/userprofile/\" + userid);\n    };\n\n    this.state = {\n      timelineContent: []\n    };\n  } // This function will get call automatically whenever this component will maount and will set the required feilds\n\n\n  render() {\n    console.log(\"home page\");\n    const {\n      timelineContent\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"timeline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tweets-timeline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"tweets-timeline-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, timelineContent.map(tweet => /*#__PURE__*/React.createElement(\"h4\", {\n      key: tweet.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"each-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"tweet-full-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-user-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 23\n      }\n    }), tweet.user.first_name, \" \", tweet.user.last_name, /*#__PURE__*/React.createElement(Link, {\n      id: \"tweet-user-name\",\n      onClick: () => {\n        this.viewProfile(tweet.user.id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }, \"@\", tweet.user.username))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"tweet-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, tweet.content))))))));\n  }\n\n}\nexport default HomePage;","map":{"version":3,"sources":["/home/vishakha/Documents/Project using ReactJS/Updated Project- MiniTwitter/mini-twitter/FrontEnd/src/Components/HomePage.js"],"names":["React","Component","history","axios","Link","HomePage","constructor","props","componentDidMount","defaults","headers","Authorization","localStorage","getItem","id","loggedUserId","get","then","response","console","log","timelineContent","state","setState","data","catch","error","push","viewProfile","userid","event","setItem","render","map","tweet","user","first_name","last_name","username","content"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport history from \"./../history\";\nimport axios from \"axios\";\nimport \"./HomePage.css\";\nimport { Link } from \"react-router-dom\";\n\n// This component render the timeline page which is home page of twitter\n\nexport class HomePage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      timelineContent: [],\n    };\n  }\n\n  // This function will get call automatically whenever this component will maount and will set the required feilds\n  componentDidMount = () => {\n    axios.defaults.headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"token \" + localStorage.getItem(\"token\"),\n    };\n\n    const id = this.props.loggedUserId;\n    axios\n      .get(\"http://127.0.0.1:8020/minitwitter/tweets/\", id)\n      .then((response) => {\n        console.log(\"response of timeline-\", response);\n\n        if (response[\"status\"] === 200) {\n          const { timelineContent } = this.state;\n          this.setState(\n            {\n              timelineContent: response.data,\n            },\n            () => console.log(\"timeline content-->\", timelineContent)\n          );\n        }\n      })\n      .catch((error) => {\n        console.log(error.response[\"status\"]);\n        if (error.response[\"status\"] === 401) {\n          history.push(\"/\");\n        }\n      });\n  };\n\n  // This function will provide the profile details of clicked user\n  viewProfile = (userid, event) => {\n    console.log(userid);\n    localStorage.setItem(\"otherUserName\", userid);\n    history.push(\"/minitwitter/userprofile/\" + userid);\n  };\n\n  render() {\n    console.log(\"home page\");\n    const { timelineContent } = this.state;\n    return (\n      <div>\n        {/* <Menu /> */}\n\n        <div className=\"timeline\">\n          <div className=\"tweets-timeline\">\n            <div id=\"tweets-timeline-content\">\n              {timelineContent.map((tweet) => (\n                <h4 key={tweet.id}>\n                  <div id=\"each-content\">\n                    <div id=\"tweet-full-name\">\n                      <i className=\"fa fa-user-circle\"></i>\n                      {tweet.user.first_name} {tweet.user.last_name}\n                      <Link\n                        id=\"tweet-user-name\"\n                        onClick={() => {\n                          this.viewProfile(tweet.user.id);\n                        }}\n                      >\n                        <span>@{tweet.user.username}</span>\n                      </Link>\n                    </div>\n\n                    <div id=\"tweet-content\">{tweet.content}</div>\n                  </div>\n                </h4>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default HomePage;\n"]},"metadata":{},"sourceType":"module"}