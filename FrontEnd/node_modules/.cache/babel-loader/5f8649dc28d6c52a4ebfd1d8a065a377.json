{"ast":null,"code":"var _jsxFileName = \"/home/vishakha/Documents/Project using ReactJS/Updated Project- MiniTwitter/mini-twitter/FrontEnd/src/Components/HomePage.js\";\nimport React, { Component } from 'react';\nimport history from './../history';\nimport axios from 'axios';\nimport './HomePage.css';\nimport { Link } from 'react-router-dom'; // This component render the timeline page which is home page of twitter\n\nexport class HomePage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      axios.defaults.headers = {\n        'Content-Type': 'application/json',\n        Authorization: \"token \" + localStorage.getItem('token')\n      };\n      const id = this.props.loggedUserId;\n      axios.get('http://127.0.0.1:8020/minitwitter/tweets/', id).then(response => {\n        console.log('response of timeline-', response);\n\n        if (response['status'] === 200) {\n          const {\n            timelineContent\n          } = this.state;\n          this.setState({\n            timelineContent: response.data\n          }, () => console.log('timeline content-->', timelineContent));\n        }\n      }).catch(error => {\n        console.log(error.response['status']);\n\n        if (error.response['status'] === 401) {\n          history.push('/');\n        }\n      });\n    };\n\n    this.viewProfile = (userid, event) => {\n      console.log(userid);\n      localStorage.setItem('otherUserName', userid);\n      history.push('/minitwitter/userprofile/' + userid);\n    };\n\n    this.state = {\n      timelineArray: [],\n      timelineContent: []\n    };\n  } // This function will get call automatically whenever this component will maount and will set the required feilds\n\n\n  render() {\n    console.log('home page');\n    const {\n      timelineContent\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"timeline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tweets-timeline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"tweets-timeline-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 54\n      }\n    }, timelineContent.map(tweet => /*#__PURE__*/React.createElement(\"h4\", {\n      key: tweet.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"each-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"tweet-full-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-user-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 41\n      }\n    }), tweet.user.first_name, \" \", tweet.user.last_name, /*#__PURE__*/React.createElement(Link, {\n      id: \"tweet-user-name\",\n      onClick: () => {\n        this.viewProfile(tweet.user.id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 49\n      }\n    }, \"@\", tweet.user.username)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa-trash-alt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 54\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"tweet-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 41\n      }\n    }, tweet.content))))))));\n  }\n\n}\nexport default HomePage;","map":{"version":3,"sources":["/home/vishakha/Documents/Project using ReactJS/Updated Project- MiniTwitter/mini-twitter/FrontEnd/src/Components/HomePage.js"],"names":["React","Component","history","axios","Link","HomePage","constructor","props","componentDidMount","defaults","headers","Authorization","localStorage","getItem","id","loggedUserId","get","then","response","console","log","timelineContent","state","setState","data","catch","error","push","viewProfile","userid","event","setItem","timelineArray","render","map","tweet","user","first_name","last_name","username","content"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport history from './../history';\nimport axios from 'axios'\nimport './HomePage.css'\nimport { Link } from 'react-router-dom';\n\n// This component render the timeline page which is home page of twitter\n\nexport class HomePage extends Component {\n\n    constructor(props) {\n        super(props)\n    \n        this.state = {\n\n            timelineArray:[],\n             timelineContent:[]\n                  \n            \n        }\n    }\n\n    // This function will get call automatically whenever this component will maount and will set the required feilds\n    componentDidMount=()=>{\n\n        axios.defaults.headers = {\n            'Content-Type': 'application/json',\n            Authorization: \"token \"+localStorage.getItem('token')\n        }\n\n        const id=this.props.loggedUserId\n        axios\n        .get('http://127.0.0.1:8020/minitwitter/tweets/',id)\n        .then(response=>{\n            console.log('response of timeline-',response)\n\n            if(response['status']===200){\n\n                const{timelineContent}=this.state\n                this.setState({\n                    timelineContent:response.data\n                },\n                ()=>console.log('timeline content-->',timelineContent) )\n                 \n                \n            }\n        })\n        .catch(error=>{\n           \n            console.log(error.response['status'])\n            if(error.response['status']===401){\n                history.push('/')\n            }\n        })\n        \n    }\n\n    // This function will provide the profile details of clicked user\n    viewProfile=(userid,event)=>{\n\n        console.log(userid)\n        localStorage.setItem('otherUserName',userid)\n        history.push('/minitwitter/userprofile/'+userid)\n    }\n    \n\n    render() {\n        console.log('home page')\n        const{timelineContent}=this.state\n        return (\n            <div>\n                \n                {/* <Menu /> */}\n\n                <div className=\"timeline\">\n\n                    <div className=\"tweets-timeline\"><div id=\"tweets-timeline-content\">{timelineContent.map(tweet => (\n                                <h4 key={tweet.id}>\n                                    <div id=\"each-content\">\n\n                                        <div id=\"tweet-full-name\">\n                                        <i class=\"fa fa-user-circle\"></i>\n                                            {tweet.user.first_name} {tweet.user.last_name} \n                                                <Link id=\"tweet-user-name\" onClick={()=>{this.viewProfile(tweet.user.id)}}>\n                                                <span>@{tweet.user.username}</span>\n                                                </Link>\n                                                <div><i className=\"fa-trash-alt\"></i></div>\n                                            \n                                        </div>\n\n                                        <div id=\"tweet-content\">\n                                            {tweet.content}\n                                        </div>\n                                    </div>\n                                </h4>\n                            ))}\n                        </div>\n                </div>\n\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default HomePage\n"]},"metadata":{},"sourceType":"module"}