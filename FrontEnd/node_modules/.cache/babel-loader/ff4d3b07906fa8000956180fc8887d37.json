{"ast":null,"code":"var _jsxFileName = \"/home/vishakha/Documents/Project using ReactJS/Updated Project- MiniTwitter/mini-twitter/FrontEnd/src/Components/CreateEditProfile.js\";\nimport React, { Component } from 'react';\nimport './CreateEditProfile.css';\nimport axios from 'axios';\nimport history from './../history'; // This component will render the profile page of user where user can edit their personal\n\nexport class CreateEditProfile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      axios.defaults.headers = {\n        'Content-Type': 'application/json',\n        Authorization: \"token \" + localStorage.getItem('token')\n      };\n      console.log('props of create edit--', this.props);\n      const id = this.props.match.params.id;\n      axios.get('http://127.0.0.1:8020/minitwitter/users/' + id + '/').then(response => {\n        console.log('before edit -->', response);\n\n        if (response['status'] === 200) {\n          this.setState({\n            firstname: response.data.user['first_name'],\n            lastname: response.data.user['last_name'],\n            username: response.data.user['username'],\n            bio: response.data['bio'],\n            id: response.data.user['id']\n          });\n        }\n      }).catch(error => {\n        console.log(error['status']);\n\n        if (error['status'] === 504) {\n          history.push('/');\n        }\n      });\n    };\n\n    this.updateInputValue = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.clickEvent = event => {\n      const id = this.props.match.params.id;\n      axios.defaults.headers = {\n        'Content-Type': 'application/json',\n        Authorization: \"token \" + localStorage.getItem('token')\n      };\n      axios.put('http://127.0.0.1:8020/minitwitter/users/' + id + '/', {\n        \"bio\": this.state.bio\n      }).then(response => {\n        console.log('after edit-->', response);\n        event.preventDefault();\n        alert('Changes saved');\n        history.push('/minitwitter/userprofile/' + id);\n      }).catch(error => {\n        console.log(error.response['status']);\n\n        if (error.response['status'] === 400) {\n          alert('empty feilds not allowed!!');\n        }\n      });\n    };\n\n    this.state = {\n      firstname: null,\n      lastname: null,\n      username: '',\n      bio: null\n    };\n  } // This function will call automatically whenever this component get call\n\n\n  // Render the whole UI for edit profile form of user\n  render() {\n    const {\n      firstname,\n      lastname,\n      bio\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Profile-\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"label-upper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, \" Edit Profile \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profileForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      id: \"label-create-edit-profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 25\n      }\n    }, \"First Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"firstname\",\n      name: \"firstname\",\n      value: this.state.firstname,\n      onChange: this.updateInputValue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      id: \"label-create-edit-profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }\n    }, \"Last Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"lastname\",\n      name: \"lastname\",\n      value: this.state.lastname,\n      onChange: this.updateInputValue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      id: \"label-create-edit-profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 25\n      }\n    }, \"User Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"userName\",\n      name: \"username\",\n      maxLength: \"100\",\n      value: this.state.username,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      id: \"label-create-edit-profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 25\n      }\n    }, \"Bio\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"bio-\",\n      name: \"bio\",\n      value: this.state.bio,\n      onChange: this.updateInputValue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.clickEvent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 25\n      }\n    }, \"SAVE\")))));\n  }\n\n}\nexport default CreateEditProfile;","map":{"version":3,"sources":["/home/vishakha/Documents/Project using ReactJS/Updated Project- MiniTwitter/mini-twitter/FrontEnd/src/Components/CreateEditProfile.js"],"names":["React","Component","axios","history","CreateEditProfile","constructor","props","componentDidMount","defaults","headers","Authorization","localStorage","getItem","console","log","id","match","params","get","then","response","setState","firstname","data","user","lastname","username","bio","catch","error","push","updateInputValue","event","target","name","value","clickEvent","put","state","preventDefault","alert","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './CreateEditProfile.css'\nimport axios from 'axios'\nimport history from './../history';\n\n// This component will render the profile page of user where user can edit their personal\nexport class CreateEditProfile extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            firstname:null,\n            lastname:null,\n            username:'',\n            bio:null\n\n        }\n    }\n    \n    // This function will call automatically whenever this component get call\n    componentDidMount=()=>{\n\n        axios.defaults.headers = {\n            'Content-Type': 'application/json',\n            Authorization: \"token \"+localStorage.getItem('token')\n        }\n\n        console.log('props of create edit--',this.props)\n        \n        const id= this.props.match.params.id\n        \n\n        axios\n        .get('http://127.0.0.1:8020/minitwitter/users/'+id+'/')\n        .then(response=>{\n            console.log('before edit -->',response)\n\n            if(response['status']===200){\n\n                this.setState({\n                    firstname:response.data.user['first_name'],\n                    lastname:response.data.user['last_name'],\n                    username:response.data.user['username'],\n                    bio:response.data['bio'],\n                    id:response.data.user['id'],\n                })\n                \n                \n            }\n        })\n        .catch(error=>{\n            console.log(error['status']);\n            if(error['status']===504){\n                history.push('/')\n            }\n        })\n        \n    }\n\n\n    // Function to edit and update the input values of First name Last name and bio of the user\n    updateInputValue=event=>{\n        this.setState({\n\n            [event.target.name]:event.target.value\n        });\n    }\n\n\n    // Function for onclick to save the edit\n    clickEvent=event=>{\n\n        const id= this.props.match.params.id\n\n        axios.defaults.headers = {\n            'Content-Type': 'application/json',\n            Authorization: \"token \"+localStorage.getItem('token')\n        }\n\n        \n        axios\n        .put('http://127.0.0.1:8020/minitwitter/users/'+id+'/',{\"bio\":this.state.bio})\n        .then(response=>{\n            console.log('after edit-->',response)\n\n            event.preventDefault();\n            alert('Changes saved')\n            history.push('/minitwitter/userprofile/'+id)\n            \n            \n        })\n        .catch(error=>{\n            console.log(error.response['status']);\n            if(error.response['status']===400){\n\n                alert('empty feilds not allowed!!')\n\n            }\n        })\n        \n        \n    }\n\n    // Render the whole UI for edit profile form of user\n    render() {\n\n        const{firstname,lastname,bio}=this.state\n\n        return (\n            <div>\n                \n                <div className=\"Profile-\">\n                    <div id=\"label-upper\"> Edit Profile </div>\n                    <div className=\"profileForm\">\n\n                    <form>\n                        <label id=\"label-create-edit-profile\">First Name</label>\n                        <input type=\"text\"\n                        id=\"firstname\"\n                        name=\"firstname\"\n                        value={this.state.firstname}\n                        onChange={this.updateInputValue}>\n\n                        </input>\n\n                        <label id=\"label-create-edit-profile\">Last Name</label>\n                        <input type=\"text\"\n                        id=\"lastname\"\n                        name=\"lastname\"\n                        value={this.state.lastname}\n                        onChange={this.updateInputValue}>\n                        </input>\n\n                        <label id=\"label-create-edit-profile\">User Name</label>\n                        <input type=\"text\"\n                        id=\"userName\"\n                        name=\"username\"\n                        maxLength=\"100\"\n                        value={this.state.username}>\n                        </input>\n\n                        <label id=\"label-create-edit-profile\">Bio</label>\n                        <input type=\"text\"\n                        id=\"bio-\"\n                        name=\"bio\"\n                        value={this.state.bio}\n                        onChange={this.updateInputValue}>\n\n                        </input>\n\n                        <button type=\"button\"\n                        onClick={this.clickEvent}>\n                            SAVE\n                        </button>\n\n                    </form>\n\n                    </div>\n                   \n                \n                    \n                </div>\n            </div>\n        )\n    }\n}\n\nexport default CreateEditProfile\n"]},"metadata":{},"sourceType":"module"}