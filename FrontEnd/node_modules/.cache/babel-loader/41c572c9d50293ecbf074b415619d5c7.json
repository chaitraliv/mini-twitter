{"ast":null,"code":"var _jsxFileName = \"/home/vishakha/Documents/Project using ReactJS/Updated Project- MiniTwitter/mini-twitter/FrontEnd/src/Components/CreateEditProfile.js\";\nimport React, { Component } from \"react\";\nimport \"./CreateEditProfile.css\";\nimport axios from \"axios\";\nimport history from \"./../history\"; // This component will render the profile page of user where user can edit their personal\n\nexport class CreateEditProfile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      axios.defaults.headers = {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"token \" + localStorage.getItem(\"token\")\n      };\n      console.log(\"props of create edit component--\", this.props);\n      const id = this.props.match.params.id;\n      axios.get(\"http://127.0.0.1:8020/minitwitter/users/\" + id + \"/\").then(response => {\n        console.log(\"before edit -->\", response);\n\n        if (response[\"status\"] === 200) {\n          this.setState({\n            firstname: response.data.user[\"first_name\"],\n            lastname: response.data.user[\"last_name\"],\n            username: response.data.user[\"username\"],\n            bio: response.data[\"bio\"],\n            id: response.data.user[\"id\"]\n          });\n        }\n      }).catch(error => {\n        console.log(error[\"status\"]);\n\n        if (error[\"status\"] === 504) {\n          history.push(\"/\");\n        }\n      });\n    };\n\n    this.updateInputValue = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.clickEvent = event => {\n      const id = this.props.match.params.id;\n      axios.defaults.headers = {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"token \" + localStorage.getItem(\"token\")\n      };\n      axios.put(\"http://127.0.0.1:8020/minitwitter/users/\" + id + \"/\", {\n        bio: this.state.bio\n      }).then(response => {\n        console.log(\"after edit-->\", response);\n        event.preventDefault();\n        alert(\"Changes saved\");\n        history.push(\"/minitwitter/userprofile/\" + id);\n      }).catch(error => {\n        console.log(error.response[\"status\"]);\n\n        if (error.response[\"status\"] === 400) {\n          alert(\"empty feilds not allowed!!\");\n        }\n      });\n    };\n\n    this.state = {\n      firstname: null,\n      lastname: null,\n      username: \"\",\n      bio: null\n    };\n  } // This function will call automatically whenever this component get call\n\n\n  // Render the whole UI for edit profile form of user\n  render() {\n    const {\n      firstname,\n      lastname,\n      bio,\n      username\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Profile-\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"label-upper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }\n    }, \" Edit Profile \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profileForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      id: \"label-create-edit-profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 15\n      }\n    }, \"First Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"firstname\",\n      name: \"firstname\",\n      value: firstname,\n      onChange: this.updateInputValue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      id: \"label-create-edit-profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }\n    }, \"Last Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"lastname\",\n      name: \"lastname\",\n      value: lastname,\n      onChange: this.updateInputValue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      id: \"label-create-edit-profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }, \"User Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"userName\",\n      name: \"username\",\n      maxLength: \"100\",\n      value: username,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      id: \"label-create-edit-profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 15\n      }\n    }, \"Bio\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"bio-\",\n      name: \"bio\",\n      value: bio,\n      onChange: this.updateInputValue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.clickEvent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 15\n      }\n    }, \"SAVE\")))));\n  }\n\n}\nexport default CreateEditProfile;","map":{"version":3,"sources":["/home/vishakha/Documents/Project using ReactJS/Updated Project- MiniTwitter/mini-twitter/FrontEnd/src/Components/CreateEditProfile.js"],"names":["React","Component","axios","history","CreateEditProfile","constructor","props","componentDidMount","defaults","headers","Authorization","localStorage","getItem","console","log","id","match","params","get","then","response","setState","firstname","data","user","lastname","username","bio","catch","error","push","updateInputValue","event","target","name","value","clickEvent","put","state","preventDefault","alert","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./CreateEditProfile.css\";\nimport axios from \"axios\";\nimport history from \"./../history\";\n\n// This component will render the profile page of user where user can edit their personal\nexport class CreateEditProfile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      firstname: null,\n      lastname: null,\n      username: \"\",\n      bio: null,\n    };\n  }\n\n  // This function will call automatically whenever this component get call\n  componentDidMount = () => {\n    axios.defaults.headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"token \" + localStorage.getItem(\"token\"),\n    };\n\n    console.log(\"props of create edit component--\", this.props);\n\n    const id = this.props.match.params.id;\n\n    axios\n      .get(\"http://127.0.0.1:8020/minitwitter/users/\" + id + \"/\")\n      .then((response) => {\n        console.log(\"before edit -->\", response);\n\n        if (response[\"status\"] === 200) {\n          this.setState({\n            firstname: response.data.user[\"first_name\"],\n            lastname: response.data.user[\"last_name\"],\n            username: response.data.user[\"username\"],\n            bio: response.data[\"bio\"],\n            id: response.data.user[\"id\"],\n          });\n        }\n      })\n      .catch((error) => {\n        console.log(error[\"status\"]);\n        if (error[\"status\"] === 504) {\n          history.push(\"/\");\n        }\n      });\n  };\n\n  // Function to edit and update the input values of First name Last name and bio of the user\n  updateInputValue = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  // Function for onclick to save the edit\n  clickEvent = (event) => {\n    const id = this.props.match.params.id;\n\n    axios.defaults.headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"token \" + localStorage.getItem(\"token\"),\n    };\n\n    axios\n      .put(\"http://127.0.0.1:8020/minitwitter/users/\" + id + \"/\", {\n        bio: this.state.bio,\n      })\n      .then((response) => {\n        console.log(\"after edit-->\", response);\n\n        event.preventDefault();\n        alert(\"Changes saved\");\n        history.push(\"/minitwitter/userprofile/\" + id);\n      })\n      .catch((error) => {\n        console.log(error.response[\"status\"]);\n        if (error.response[\"status\"] === 400) {\n          alert(\"empty feilds not allowed!!\");\n        }\n      });\n  };\n\n  // Render the whole UI for edit profile form of user\n  render() {\n    const { firstname, lastname, bio, username } = this.state;\n\n    return (\n      <div>\n        <div className=\"Profile-\">\n          <div id=\"label-upper\"> Edit Profile </div>\n          <div className=\"profileForm\">\n            <form>\n              <label id=\"label-create-edit-profile\">First Name</label>\n              <input\n                type=\"text\"\n                id=\"firstname\"\n                name=\"firstname\"\n                value={firstname}\n                onChange={this.updateInputValue}\n              ></input>\n\n              <label id=\"label-create-edit-profile\">Last Name</label>\n              <input\n                type=\"text\"\n                id=\"lastname\"\n                name=\"lastname\"\n                value={lastname}\n                onChange={this.updateInputValue}\n              ></input>\n\n              <label id=\"label-create-edit-profile\">User Name</label>\n              <input\n                type=\"text\"\n                id=\"userName\"\n                name=\"username\"\n                maxLength=\"100\"\n                value={username}\n              ></input>\n\n              <label id=\"label-create-edit-profile\">Bio</label>\n              <input\n                type=\"text\"\n                id=\"bio-\"\n                name=\"bio\"\n                value={bio}\n                onChange={this.updateInputValue}\n              ></input>\n\n              <button type=\"button\" onClick={this.clickEvent}>\n                SAVE\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CreateEditProfile;\n"]},"metadata":{},"sourceType":"module"}