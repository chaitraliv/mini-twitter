{"ast":null,"code":"var _jsxFileName = \"/home/vishakha/Documents/Project using ReactJS/Updated Project- MiniTwitter/mini-twitter/FrontEnd/src/Components/HomePage.js\";\nimport React, { Component } from 'react';\nimport history from './../history';\nimport axios from 'axios';\nimport './HomePage.css';\nimport { Link } from 'react-router-dom'; // This component render the timeline page which is home page of twitter\n\nexport class HomePage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      axios.defaults.headers = {\n        'Content-Type': 'application/json',\n        Authorization: \"token \" + localStorage.getItem('token')\n      };\n      const id = this.props.loggedUserId;\n      axios.get('http://127.0.0.1:8020/minitwitter/tweets/', id).then(response => {\n        console.log('response of timeline-', response);\n\n        if (response['status'] === 200) {\n          const tweetArray = response.data;\n          const {\n            timelineContent\n          } = this.state;\n          tweetArray.map(tweet => timelineArray.push(tweet));\n          console.log(timelineArray);\n          this.setState({\n            timelineContent: response.data\n          }, () => console.log('timeline content-->', timelineContent)); // it will return the array which have data of timeline\n        }\n      }).catch(error => {\n        console.log(error.response['status']);\n\n        if (error.response['status'] === 401) {\n          history.push('/');\n        }\n      });\n    };\n\n    this.viewProfile = (userid, event) => {\n      console.log(userid);\n      localStorage.setItem('otherUserName', userid);\n      history.push('/UserProfile/' + userid);\n    };\n\n    this.state = {\n      timelineArray: [],\n      timelineContent: []\n    };\n  } // This function will get call automatically whenever this component will maount and will set the required feilds\n\n\n  render() {\n    console.log('home page');\n    const {\n      timelineContent\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"timeline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tweets-timeline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"tweets-timeline-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 54\n      }\n    }, timelineContent.map(tweet => /*#__PURE__*/React.createElement(\"h4\", {\n      key: tweet.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"each-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"tweet-full-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-user-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 41\n      }\n    }), tweet.user.first_name, \" \", tweet.user.last_name, /*#__PURE__*/React.createElement(Link, {\n      id: \"tweet-user-name\",\n      onClick: () => {\n        this.viewProfile(tweet.user.id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 49\n      }\n    }, \"@\", tweet.user.username))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"tweet-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 41\n      }\n    }, tweet.content))))))));\n  }\n\n}\nexport default HomePage;","map":{"version":3,"sources":["/home/vishakha/Documents/Project using ReactJS/Updated Project- MiniTwitter/mini-twitter/FrontEnd/src/Components/HomePage.js"],"names":["React","Component","history","axios","Link","HomePage","constructor","props","componentDidMount","defaults","headers","Authorization","localStorage","getItem","id","loggedUserId","get","then","response","console","log","tweetArray","data","timelineContent","state","map","tweet","timelineArray","push","setState","catch","error","viewProfile","userid","event","setItem","render","user","first_name","last_name","username","content"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport history from './../history';\nimport axios from 'axios'\nimport './HomePage.css'\nimport { Link } from 'react-router-dom';\n\n// This component render the timeline page which is home page of twitter\n\nexport class HomePage extends Component {\n\n    constructor(props) {\n        super(props)\n    \n        this.state = {\n\n            timelineArray:[],\n             timelineContent:[]\n                  \n            \n        }\n    }\n\n    // This function will get call automatically whenever this component will maount and will set the required feilds\n    componentDidMount=()=>{\n\n        axios.defaults.headers = {\n            'Content-Type': 'application/json',\n            Authorization: \"token \"+localStorage.getItem('token')\n        }\n\n        const id=this.props.loggedUserId\n        axios\n        .get('http://127.0.0.1:8020/minitwitter/tweets/',id)\n        .then(response=>{\n            console.log('response of timeline-',response)\n\n            if(response['status']===200){\n\n                const tweetArray=response.data\n                const{timelineContent}=this.state\n\n                tweetArray.map(tweet=>(\n\n                    timelineArray.push(tweet)\n                ))\n                \n                console.log(timelineArray)\n                this.setState({\n                    timelineContent:response.data\n                },\n                ()=>console.log('timeline content-->',timelineContent) )\n\n                // it will return the array which have data of timeline\n                 \n                \n            }\n        })\n        .catch(error=>{\n           \n            console.log(error.response['status'])\n            if(error.response['status']===401){\n                history.push('/')\n            }\n        })\n        \n    }\n\n    // This function will provide the profile details of clicked user\n    viewProfile=(userid,event)=>{\n\n        console.log(userid)\n        localStorage.setItem('otherUserName',userid)\n        history.push('/UserProfile/'+userid)\n    }\n    \n\n    render() {\n        console.log('home page')\n        const{timelineContent}=this.state\n        return (\n            <div>\n                \n                {/* <Menu /> */}\n\n                <div className=\"timeline\">\n\n                    <div className=\"tweets-timeline\"><div id=\"tweets-timeline-content\">{timelineContent.map(tweet => (\n                                <h4 key={tweet.id}>\n                                    <div id=\"each-content\">\n\n                                        <div id=\"tweet-full-name\">\n                                        <i class=\"fa fa-user-circle\"></i>\n                                            {tweet.user.first_name} {tweet.user.last_name} \n                                            {/* <div id=\"tweet-user-name\"> */}\n                                                <Link id=\"tweet-user-name\" onClick={()=>{this.viewProfile(tweet.user.id)}}>\n                                                <span>@{tweet.user.username}</span>\n                                                </Link> \n                                            {/* </div> */}\n                                        </div>\n\n                                        <div id=\"tweet-content\">\n                                            {tweet.content}\n                                        </div>\n                                    </div>\n                                </h4>\n                            ))}\n                        </div>\n                </div>\n\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default HomePage\n"]},"metadata":{},"sourceType":"module"}